{"version":3,"sources":["firebase.js","components/Navbar.jsx","components/Login.jsx","components/View.jsx","components/Home.jsx","components/New.jsx","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Navbar","props","className","to","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","auth","onClick","setAuth","Login","useState","password","setPassword","buttonClass","setButtonClass","htmlFor","onChange","e","target","value","preventDefault","View","annuncio","messaggio","email","firestoreRef","firestore","collection","history","useHistory","useParams","annunci","filter","obj","titolo","undefined","style","fontSize","concat","numero","badge","categoria","deleteDoc","a","window","confirm","where","get","ref","el","docs","doc","delete","push","nome","data","testo","photos","i","foto","length","src","alt","loadImages","open","Home","useEffect","getAnnunci","sort","b","aComps","split","bComps","aDate","Date","getTime","rows","map","row","index","ind","link","scope","About","categoriaTMP","setCategoria","setTitolo","setNome","telefono","setTelefono","setEmail","setTesto","fileUrl","setFileUrl","status","setStatus","today","String","getDate","padStart","getMonth","getFullYear","uploadFile","storageRef","storage","links","files","fileTmp","fileRef","child","name","put","getDownloadURL","handelSubmit","emailjs","send","add","action","method","encType","multiple","placeholder","aria-describedby","App","setAnnunci","then","item","items","reverse","exact","path","New","marginLeft","href","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71d1047e.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD20nV3v_M0jfuO8RCtedTDneUva-USbP0\",\r\n    authDomain: \"scambi-gasquemais.firebaseapp.com\",\r\n    projectId: \"scambi-gasquemais\",\r\n    storageBucket: \"scambi-gasquemais.appspot.com\",\r\n    messagingSenderId: \"893102789014\",\r\n    appId: \"1:893102789014:web:b0502d0b53837114070db7\",\r\n    measurementId: \"G-01ZKV4EB0R\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Navbar(props) {\r\n\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n            <div className=\"container-fluid\">\r\n                <Link to=\"/\" className=\"navbar-brand fs-4\">Scambi</Link>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                    <li className=\"nav-item\">\r\n                        {props.auth ? <Link to=\"/\" className=\"nav-link active\">Home</Link> : <small className=\"nav-link\">gasquemais</small>}\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        {props.auth ? <Link to=\"/new\" className=\"nav-link\">Nuovo</Link> : <p></p>}\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        {props.auth ? <Link to=\"/\" className=\"nav-link\" onClick={() =>  props.setAuth(false)}>Logout</Link> : <p></p>}\r\n                    </li>\r\n                </ul>\r\n                </div>\r\n            </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React, { useState } from 'react';\r\n\r\nfunction Login(props) {\r\n  const [password, setPassword] = useState('');\r\n  const [buttonClass, setButtonClass] = useState('btn btn-outline-dark');\r\n\r\n  const login = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password === 'rivoli') { //!!!\r\n      setButtonClass('btn btn-primary');\r\n      props.setAuth(true);\r\n    } else {\r\n      setButtonClass('btn btn-danger');\r\n      props.setAuth(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n\r\n      <h1>Login</h1>\r\n\r\n      <br/>\r\n\r\n      <form>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\r\n          <input type=\"password\" className=\"form-control pass-input\" onChange={(e) => setPassword(e.target.value)} />\r\n        </div>\r\n        <button className={buttonClass} onClick={login}>Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport firebase from '../firebase';\r\n\r\nfunction View(props) {\r\n    const firestoreRef = firebase.firestore().collection('annunci');\r\n    var history = useHistory();\r\n    var { id } = useParams();\r\n    var annuncio, messaggio, email;\r\n\r\n    props.annunci.filter(obj => {\r\n        if (obj.titolo === id) {\r\n            annuncio = obj;\r\n        }\r\n    });\r\n\r\n    if (annuncio === undefined || props.auth === false) {\r\n        return (\r\n            <div className=\"container\">\r\n                <h1 style={{fontSize: '400px'}}>404</h1>\r\n                <small className=\"text-muted\">Pagina non trovata. Vai alla <Link to=\"/\">homepage</Link>.</small>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    var tmp1 = 'https://api.whatsapp.com/send?phone=';\r\n    messaggio = tmp1.concat(annuncio.numero);\r\n    var badge = (annuncio.categoria === 'Cerco') ? 'badge bg-primary' : 'badge bg-danger';\r\n    var tmp2 = 'mailto:';\r\n    email = tmp2.concat(annuncio.email);\r\n\r\n    const loadImages = () => {\r\n        var photos = [];\r\n\r\n        for (let i = 0; i < annuncio.foto.length; i++) {\r\n            photos.push(<img key={i} src={annuncio.foto[i]} alt=\"Website couldn't upload the photo\" />);\r\n        }\r\n\r\n        return(photos);\r\n    }\r\n\r\n    const deleteDoc = async () => {\r\n        if (window.confirm(\"Sei sicuro di voler eliminare l'annuncio?\") && props.auth === true) {\r\n            const ref = await firestoreRef.where('titolo', '==', annuncio.titolo).get();\r\n            var el = ref.docs[0].id;\r\n            await firestoreRef.doc(el).delete();\r\n    \r\n            history.push('/');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>{annuncio.titolo}</h1>\r\n            <small className=\"text-muted\">{annuncio.nome}, {annuncio.data}</small>\r\n            <br/>\r\n            <small className=\"text-muted\">\r\n                <span className={badge}>{annuncio.categoria}</span>\r\n            </small>\r\n\r\n            <br/>\r\n\r\n            <hr/>\r\n            <p>{annuncio.testo}</p>\r\n\r\n            <br/>\r\n\r\n            {loadImages()}\r\n\r\n            <br/><br/>\r\n\r\n            <button className=\"btn btn-outline-light ms-2\" onClick={() => window.open(messaggio,'_blank')}>Manda un messaggio</button>\r\n            <button className=\"btn btn-outline-light ms-2\" onClick={() => window.open(email)}>Contatta via mail</button>\r\n            <button className=\"btn btn-outline-light ms-2\" onClick={deleteDoc}>Elimina l'annuncio</button>\r\n            <div className='delete-button' onClick={deleteDoc} />\r\n\r\n            <hr/>\r\n\r\n               \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default View;","import React, { useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Home(props) {\r\n  useEffect(() => {\r\n    props.getAnnunci();\r\n  }, []);\r\n\r\n  props.annunci.sort(function(a,b) {\r\n    var aComps = a.data.split(\"/\");\r\n    var bComps = b.data.split(\"/\");\r\n    var aDate = new Date(aComps[2], aComps[1], aComps[0]);\r\n    var bDate = new Date(bComps[2], bComps[1], bComps[0]);\r\n    return bDate.getTime() - aDate.getTime();\r\n});\r\n\r\n  const rows = props.annunci.map((row, index) => { \r\n    var i = row;\r\n    var ind = index;\r\n\r\n    var link = '/' + i.titolo;\r\n    var badge = (i.categoria === 'Cerco') ? 'badge bg-primary' : 'badge bg-danger';\r\n\r\n    return (\r\n      <tr key={ind}>\r\n        <th className=\"titolo\" scope=\"row\"><Link to={link} className=\"titolo\" scope=\"row\">{i.titolo}</Link></th>\r\n        <td><span className={badge}>{i.categoria}</span></td>\r\n        <td>{i.nome}</td>\r\n        <td>{i.data}</td>\r\n      </tr>\r\n    )\r\n  });\r\n\r\n  const table = () => {\r\n    if (props.annunci.length !== 0) {\r\n      return (\r\n        <>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">TITOLO</th>\r\n                <th scope=\"col\">CATEGORIA</th>\r\n                <th scope=\"col\">NOME</th>\r\n                <th scope=\"col\">DATA</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )\r\n    } else {\r\n      return (\r\n        <div>\r\n          <hr/>\r\n          <h3>Tutto tace.</h3>\r\n          <small className=\"text-muted\">Aggingi un annuncio per iniziare</small>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"position-relative\">\r\n        Annunci\r\n        <Link to=\"/new\">\r\n          <button className=\"btn btn-outline-dark destra\">Nuovo</button>\r\n        </Link>\r\n      </h1>\r\n      <small className=\"text-muted\">Ecco gli annunci attualmente attivi.</small>\r\n\r\n      <br /><br />\r\n\r\n      {table()}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport firebase from '../firebase';\r\nimport emailjs from 'emailjs-com';\r\n\r\nfunction About(props) {\r\n  const firestoreRef = firebase.firestore().collection('annunci');\r\n  var history = useHistory();\r\n\r\n  const [categoria, setCategoria] = useState('• Richiedo qualcosa');\r\n  const [titolo, setTitolo] = useState('');\r\n  const [nome, setNome] = useState('');\r\n  const [telefono, setTelefono] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [testo, setTesto] = useState('');\r\n  const [fileUrl, setFileUrl] = useState([]);\r\n  const [status, setStatus] = useState(false);\r\n\r\n  var categoriaTMP;\r\n\r\n  var today = new Date();\r\n  var dd = String(today.getDate()).padStart(2, '0');\r\n  var mm = String(today.getMonth() + 1).padStart(2, '0');\r\n  var yyyy = today.getFullYear();\r\n  var data = dd + '/' + mm + '/' + yyyy;\r\n\r\n  if (props.auth === false) {\r\n    return (\r\n      <div className=\"container\">\r\n          <h1 style={{fontSize: '400px'}}>404</h1>\r\n          <small className=\"text-muted\">Pagina non trovata. Vai alla <Link to=\"/\">homepage</Link>.</small>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const loader = () => {\r\n    return (\r\n      <div className=\"spinner-border m-1\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const uploadFile = async (e) => {\r\n    setStatus(true);\r\n\r\n    const storageRef = firebase.storage().ref();\r\n    var links = [];\r\n\r\n    for (let i = 0; i !== e.target.files.length; i++) {\r\n      const fileTmp = await e.target.files[i];\r\n      const fileRef = storageRef.child(fileTmp.name);\r\n      await fileRef.put(fileTmp);\r\n\r\n      links.push(await fileRef.getDownloadURL());\r\n    }\r\n\r\n    setFileUrl(links);\r\n\r\n    setStatus(false);\r\n  };\r\n\r\n  const handelSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    (categoria === '• Richiedo qualcosa') ? categoriaTMP = 'Cerco' : categoriaTMP = 'Offro';\r\n\r\n    const link = 'scambi.surge.sh/';\r\n    emailjs.send('service_phxn0gj', 'template_shxlnrm',{\r\n      titolo: titolo,\r\n      testo: testo,\r\n      link: link,\r\n      to: 'gasquemais@googlegroups.com',\r\n    }, 'user_STmZslqigOUQfVm5dxubE');\r\n\r\n    await firestoreRef.add({\r\n      categoria: categoriaTMP,\r\n      data: data,\r\n      nome: nome,\r\n      numero: telefono,\r\n      testo: testo,\r\n      titolo: titolo,\r\n      foto: fileUrl\r\n    });\r\n\r\n    setCategoria('• Richiedo qualcosa');\r\n    setTitolo('');\r\n    setEmail('');\r\n    setTelefono('');\r\n    setTesto('');\r\n    setNome('');\r\n\r\n    await history.push('/');\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>\r\n        Crea un nuovo annuncio\r\n      </h1>\r\n      <h6 className=\"lead\">\r\n        Completa il segnunte form per aggiungere un nuovo annuncio. \r\n      </h6> \r\n\r\n      <br/>\r\n\r\n      <div className=\"jumbotron\">\r\n      <form action=\"inviato.php\" method=\"POST\" encType=\"multipart/form-data\">\r\n\r\n          <div className=\"form-group\">\r\n            <select value={categoria} onChange={(e) => setCategoria(e.target.value)} multiple=\"\" className=\"form-control pass-input\" id=\"exampleSelect2\" name=\"categoria\" row=\"2\">\r\n                <option>&bull;  Richiedo qualcosa</option>\r\n                <option>&bull;  Offro qualcosa</option>\r\n            </select>\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <div className=\"form-group\">\r\n            <input value={titolo} onChange={(e) => setTitolo(e.target.value)} type=\"text\" className=\"form-control pass-input\" placeholder=\"Titolo annuncio\" name=\"titolo\" />\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <div className=\"form-group\">\r\n            <input value={nome} onChange={(e) => setNome(e.target.value)} type=\"text\" className=\"form-control pass-input\" placeholder=\"Nome e cognome\" name=\"nome\" />\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <div className=\"form-group\">\r\n            <input value={telefono} onChange={(e) => setTelefono(e.target.value)} type=\"number\" className=\"form-control pass-input\" placeholder=\"Numero di telefono\" name=\"telefono\" />\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <div className=\"form-group\">\r\n            <input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" className=\"form-control pass-input\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Indirizzo email\" name=\"email\" />\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea value={testo} onChange={(e) => setTesto(e.target.value)} className=\"form-control pass-input\" id=\"exampleTextarea\" rows=\"4\" placeholder=\"Testo dell'annuncio\" name=\"testo\"></textarea>\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleInputFile\">Carica una foto: </label>\r\n            <br/>\r\n            <input type=\"file\" onChange={uploadFile} className=\"form-control fileToUpload pass-input mt-2\" id=\"fileToUpload\" aria-describedby=\"fileHelp\" name=\"fileToUpload\" multiple />\r\n            <br/>\r\n            {status ? loader() : <br/>}\r\n          </div>\r\n\r\n          <br/>\r\n\r\n          <button type=\"submit\" className=\"btn btn-outline-dark\" value=\"Invia\" onClick={handelSubmit}>Invia</button>\r\n          \r\n          <br/><br/><br/><br/><br/><br/>\r\n      </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default About;","import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport firebase from './firebase';\r\n\r\nimport Navbar from './components/Navbar';\r\nimport Login from './components/Login';\r\nimport View from './components/View';\r\nimport Home from './components/Home';\r\nimport New from './components/New';\r\nimport './style.css';\r\n\r\n\r\nfunction App() {\r\n  const ref = firebase.firestore().collection('annunci');\r\n\r\n  const [auth, setAuth] = useState(false);\r\n  const [annunci, setAnnunci] = useState([]);\r\n\r\n  const getAnnunci = async () =>  {\r\n    ref.get().then((item) => {\r\n      const items = item.docs.map((doc) => doc.data());\r\n      setAnnunci(items.reverse());\r\n    });\r\n  }  \r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <Router>\r\n        <Navbar auth={auth} setAuth={setAuth} />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {auth ? <Home getAnnunci={getAnnunci} annunci={annunci} /> : <Login setAuth={setAuth} />}\r\n          </Route>\r\n          \r\n          <Route exact path=\"/new\">\r\n            <New auth={auth} />\r\n          </Route>\r\n\r\n          <Route path=\"/:id\">\r\n            <View annunci={annunci} auth={auth} />\r\n          </Route>\r\n\r\n        </Switch>\r\n\r\n        <small className=\"fixed-bottom text-muted\" style={{marginLeft: '10px'}}>\r\n        <a href=\"https://scarica-scambi.surge.sh/\" target=\"_blanck\">Scarica l'app</a> • created by <a href=\"https://github.com/lucagamerro/Scambi2\" target=\"_blank\" rel=\"noreferrer\">@lucagamerro</a>\r\n        </small>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}